<!DOCTYPE html>

<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-9ZM2D6XGT2">
</script>
<script>
   window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-9ZM2D6XGT2');
  </script>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Catalog – miniPCB™</title>
<link href="styles.css" rel="stylesheet"/>
<link href="/favicon.png" rel="icon" type="image/png"/>
<meta content="miniPCB, Circuit Boards, Electronics Education, PCB for Education, Mini Circuit Boards, Electronics Learning, Educational PCB, Electronics Training, Circuit Board Education, miniPCB Logo, Printed Circuit Board Education, Miniature PCB, Learning Electronics, PCB Training, DIY Electronics Education, Electronics Study Material, Circuit Board Training, Miniature Circuit Board Training, miniPCB for Education, Educational Electronics Kit." name="keywords"/>
</head>
<body>
<nav>
<div class="nav-container">
<ul class="nav-links">
<li>
<a href="search.html">Search</a>
</li>
<li>
<a href="about.html">About</a>
</li>
<li>
<a href="ask.html">Free Samples</a>
</li>
<li>
<a href="components.html">Acquiring Components</a>
</li>
<li>
<a href="changelog.html">Change Log</a>
</li>
</ul>
</div>
</nav>
<header>
<img alt="miniPCB logo" src="logo.png"/>
<p class="slogan">
    Circuit boards for electronics education.
   </p>
</header>
<main>
<section id="release-summary">
<div class="design-count">
<span id="released-count">
      Loading...
     </span>
<strong>
      Designs Available
     </strong>
</div>
</section>

<div class="tabs">
  <button id="list-tab" class="tab active" onclick="showTab('list')">List</button>
  <button id="catalog-tab" class="tab" onclick="showTab('catalog')">Catalog</button>
  <button id="search-tab" class="tab" onclick="showTab('search')">Search</button>
</div>

    <!-- LIST (Active by default) -->
  <section id="list" class="tab-content active" aria-labelledby="list-tab">
    <!-- Scroll area (~15 rows tall), populated from schematics-data.js -->
    <div id="schematic-list" class="scroll-list" role="list">
      <!-- JS will inject <a role="listitem" ...> items here -->
    </div>
  </section>


 <!-- CATALOG -->
  <section id="catalog" class="tab-content" aria-labelledby="catalog-tab">
    <section>
      <div class="grid">
        <a href="04B/04B.html">Transistor Amplifiers</a>
        <a href="04A/04A.html">Opamp Amplifiers</a>
        <a href="08D/08D.html">Phototransistor Amplifiers</a>
        <a href="08H/08H.html">Comparators</a>
        <a href="06/06.html">Oscillators</a>
        <a href="collections/555-timer-circuits.html">555 Timer Circuits</a>
        <a href="05/05.html">Filters, Active and Passive RC Filters</a>
        <a href="collections/power-charge-pumps.html">Power, Charge Pumps</a>
        <a href="09A/09A.html">Power, Linear Voltage Regulators</a>
        <a href="09H/09H.html">Power, Switching Regulators</a>
        <a href="09D/09D.html">Power, Line and Offline Power Supplies</a>
        <a href="10/10.html">Digital Fundamentals</a>
        <a href="collections/probe-boards.html">Probe Boards</a>
        <a href="collections/interface-boards.html">Interface Boards</a>
        <a href="collections/prototyping-boards.html">Prototyping Boards</a>
        <a href="11/11A-001.html">VIVA UTSA Board</a>
      </div>
    </section>
  </section>
      <!-- SEARCH -->
      <section id="search" class="tab-content" aria-labelledby="search-tab">
      <div class="search-container">
      <label for="searchBox" class="visually-hidden">Search miniPCB pages</label>
      <input
            type="text"
            id="searchBox"
            placeholder="Search by keyword, title, or slogan…"
            aria-label="Search miniPCB pages"
            class="search-input"
      />
      </div>

      <ul id="results" class="search-results" aria-live="polite"></ul>
      </section>
</main>
<footer>
   © 2025 miniPCB. All rights reserved.
  </footer>
<button id="backToTop" onclick="scrollToTop()" title="Back to Top">
   ↑
  </button>
<script>
   document.addEventListener("DOMContentLoaded", function () {
    fetch("file_manifest.json")
      .then(response => response.json())
      .then(data => {
        if (data.TOTAL !== undefined) {
          document.getElementById("released-count").textContent = data.TOTAL;
        } else {
          document.getElementById("released-count").textContent = "N/A";
        }
      })
      .catch(error => {
        console.error("Failed to load file manifest:", error);
        document.getElementById("released-count").textContent = "Error";
      });
  });
  </script>
<script>
   function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  window.onscroll = function () {
    const btn = document.getElementById("backToTop");
    if (document.body.scrollTop > 400 || document.documentElement.scrollTop > 400) {
      btn.style.display = "block";
    } else {
      btn.style.display = "none";
    }
  };
  </script>
<!-- Your generated datasets -->
<script src="schematics-data.js"></script>
<script src="keywords.js"></script>

<script>
  // Render the List from window.SCHEMATICS
(function renderList(){
  const data = (window.SCHEMATICS || []).slice();
  const container = document.getElementById('schematic-list');
  if (!container) return;

  data.sort((a,b) => (a.title||a.t).localeCompare(b.title||b.t, undefined, {numeric:true}));

  const frag = document.createDocumentFragment();
  data.forEach(item => {
    const title = item.title ?? item.t;
    const href  = item.href  ?? item.p;

    const a = document.createElement('a');
    a.href = href;
    a.setAttribute('role','listitem');
    a.title = title;

    const pill = document.createElement('span');
    pill.className = 'pill';
    pill.textContent = title;

    a.appendChild(pill);
    frag.appendChild(a);
  });

  container.innerHTML = '';
  container.appendChild(frag);
})();

</script>

<script>
  // Tab switcher: keep existing behavior; add focus when opening Search
  function showTab(id) {
    document.querySelectorAll('.tab').forEach(btn => btn.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
    document.querySelector(`.tab[onclick="showTab('${id}')"]`)?.classList.add('active');
    document.getElementById(id)?.classList.add('active');

    if (id === 'search') {
      // Focus the input shortly after the panel becomes visible
      setTimeout(() => document.getElementById('searchBox')?.focus(), 0);
    }
  }

  // ------- Search wiring (from your search page, adapted to live in-tab) -------
(function attachSearch(){
    const searchBox = document.getElementById("searchBox");
    const results = document.getElementById("results");
    if (!searchBox || !results) return;

    // Debounce helper
    let t = null;
    const debounce = (fn, d=120) => (...args) => { clearTimeout(t); t = setTimeout(() => fn(...args), d); };

    // Build a resilient index:
    // - supports `var keywords = [...]` (global var),
    // - supports `window.keywords = [...]`,
    // - falls back to SCHEMATICS when present.
    function getSearchIndex(){
      const fromVar = (typeof keywords !== "undefined" && Array.isArray(keywords)) ? keywords : [];
      const fromWin = Array.isArray(window.keywords) ? window.keywords : [];
      const fromSchematics = Array.isArray(window.SCHEMATICS)
        ? window.SCHEMATICS.map(({title, href}) => ({ url: href, keyword: title, meta: title }))
        : [];

      // Merge + dedupe by url (or by keyword if url missing)
      const merged = [...fromVar, ...fromWin, ...fromSchematics];
      const seen = new Set();
      const out = [];
      for (const k of merged) {
        const key = k.url || ("__kw__:" + (k.keyword || ""));
        if (!seen.has(key)) {
          seen.add(key);
          out.push(k);
        }
      }
      return out;
    }

    const index = getSearchIndex();

    const runSearch = () => {
      const query = searchBox.value.trim().toLowerCase();
      results.innerHTML = "";
      if (query.length < 2) return;

      const parts = query.split(/\s+/);

      const matches = index.filter(k =>
        parts.every(q =>
          (k.keyword && k.keyword.toLowerCase().includes(q)) ||
          (k.slogan && k.slogan.toLowerCase().includes(q)) ||
          (k.meta && k.meta.toLowerCase().includes(q)) ||
          // optionally match the URL path itself
          (k.url && k.url.toLowerCase().includes(q))
        )
      );

      // Track with GA if available
      if (typeof gtag === 'function') {
        gtag('event', 'search', {
          search_term: query,
          results_found: matches.length > 0,
          results_count: matches.length
        });
      }

      if (matches.length === 0) {
        results.innerHTML = `<li>No results found for "<strong>${escapeHTML(query)}</strong>"</li>`;
        return;
      }

      const frag = document.createDocumentFragment();
      matches.forEach(match => {
        const li = document.createElement("li");
        li.innerHTML = `
          <a href="${match.url}">${escapeHTML(match.keyword || match.url)}</a>
          ${match.slogan ? `<br><small><em>${escapeHTML(match.slogan)}</em></small>` : ""}
        `;
        frag.appendChild(li);
      });
      results.appendChild(frag);
    };

    searchBox.addEventListener("input", debounce(runSearch));

    function escapeHTML(s){
      return String(s).replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
    }
  })();
</script>


</body>
</html>
