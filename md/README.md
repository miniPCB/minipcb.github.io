# PN_REV_master.md
## Core Identification

- **Part Number**
- **Title / Circuit Name**
- **Revision**
- **Board Size**
- **Pieces per Panel**

---

## Change Tracking

- **Revision History** (Rev, Date, Change Summary)
- **Engineering Change Log (ECL)** link

---

## Circuit Content

- **Introduction** (short description of what the circuit does)
- **Circuit Description** (walk-through of function by blocks)
- **Circuit Theory** (deeper analysis of operation, equations, expected behaviors)
- **Circuit Analysis** (commentary on chosen values, gain, biasing, impedance, etc.)

---

## Data Tables

- **Netlist** (Net, Part, Pad, Pin, Sheet)
- **Partlist** (Ref Des, Part Type, Value/Description)
- **Part Placement Table** (where components go, keyed to board)
- **Header / Pinout Tables** (P1 or other connectors with signal names)

---

## Layout & Physical

- **Layer Stack-Up** (layers, copper thickness, arrangement)
- **Layout & Routing Notes** (critical traces, clearances, test points)
- **Signal Integrity Analysis** (plans and reports referenced in section below)

---

## References Section

- **EPSA** (Electrical Part Stress Analysis — Plan + Report)
- **WCCA** (Worst Case Circuit Analysis — Plan + Report)
- **FMEA** (Failure Modes & Effects Analysis — Plan + Report)
- **Signal Integrity Analysis** (Plan + Report documents)

# Ground Truth Documents
## CAD-Generated Files

These are created by **EAGLE ULPs** or similar automation. Each should follow your naming convention:

- **`PN_REV_sch.md`**  
    Exported from the **schematic** with a ULP.  
    Contains:
    - Netlist (Net, Part, Pad, Pin, Sheet)
    - Partlist (Ref Des, Part Type, Value)
    - Pinout tables (for P1 or others)
- **`PN_REV_brd.md`**  
    Exported from the **board** with a ULP.  
    Contains:
    - Part placement table (coordinates, layer, rotation)
    - Layer stack-up (copper layers, thicknesses, dielectric stack)
    - Layout & routing notes (testpoints, diff pairs, clearances — can be partly manual if ULP can’t capture)

---

## Analysis-Generated Files

These are created by **scripts or analysis workflows**. Some may use CAD exports (CSV/JSON) as inputs.

- **`PN_REV_epsa_plan.md`** / **`PN_REV_epsa_report.md`**  
    Electrical Part Stress Analysis.
    - Plan: template/assumptions, part categories.
    - Report: auto-generated from partlist + stress calculations (Python script).
    
- **`PN_REV_wcca_plan.md`** / **`PN_REV_wcca_report.md`**  
    Worst-Case Circuit Analysis.
    - Plan: defines operating corners, temperature, tolerance strategy.
    - Report: tables from calculation scripts (Python/LTspice export).
    
- **`PN_REV_fmea_plan.md`** / **`PN_REV_fmea_report.md`**  
    Failure Mode & Effects Analysis.
    - Plan: outlines categories, fault assumptions.
    - Report: table auto-generated from partlist (CSV → Markdown with failure assumptions).
    
- **`PN_REV_sig_plan.md`** / **`PN_REV_sig_report.md`**  
    Signal Integrity Analysis.
    - Plan: setup, expected crosstalk/impedance goals.
    - Report: results from SI tools (HyperLynx, LTspice, ADS) converted to Markdown.

---

## Manual / Semi-Automated Files

These need engineer input but can start from templates.

- **`PN_REV_intro.md`**  
    Short intro paragraph (what the circuit does).
- **`PN_REV_theory.md`**  
    Circuit theory (formulas, expected gain, biasing equations).
- **`PN_REV_analysis.md`**  
    Commentary on design values (base bias, collector resistor, etc.).
- **`PN_REV_history.md`**  
    Revision history + ECL links. (Could be partly automated from Git commits.)

---

## Assembly Files

Could be generated by CAM processor or BOM tools.

- **`PN_REV_bom.md`**  
    Bill of Materials (formatted for readability).  
    (Same content as Partlist but with vendor data, LCSC/DigiKey numbers, etc.)
    
- **`PN_REV_gerber.zip`** (not Markdown, but part of artifact set).
    

---

## Master File

Finally, everything can be **stitched together**:

- **`PN_REV_master.md`**  
    Includes/imports all subfiles.  
    This can be generated by a Python script that reads each `PN_REV_*` file and concatenates in the correct order.
    

---

In short:

- **CAD ULPs** → schematic and board exports.
- **Python scripts** → EPSA, WCCA, FMEA, SI reports.
- **Manual markdowns** → intro, theory, analysis.
- **Assembly/BOM tools** → BOM, Gerbers.
- **Integrator script** → master doc.

---
# File Generation Flow-Down

## 1. CAD-Based Exports (EAGLE ULPs)

- **ULP: schematic export**
    
    - Generates → `PN_REV_sch.md`
    - Contents → Netlist, Partlist, Pinout tables
    - Used in → `PN_REV_master.md`, EPSA, FMEA, WCCA inputs
        
- **ULP: board export**
    
    - Generates → `PN_REV_brd.md`
    - Contents → Part placement table, Layer stack-up, Routing/clearances
    - Used in → `PN_REV_master.md`, Signal Integrity analysis inputs
        

---

## 2. Analysis Documents (Python scripts / CAD data → Markdown)

- **EPSA (Electrical Part Stress Analysis)**
    
    - Input → `PN_REV_sch.md` (partlist, values), operating conditions
    - Generates →
        - `PN_REV_epsa_plan.md` (template + assumptions)
        - `PN_REV_epsa_report.md` (calculated stresses)
    - Used in → `PN_REV_master.md` (References section)
        
- **WCCA (Worst Case Circuit Analysis)**
    
    - Input → `PN_REV_sch.md`, simulation data (LTspice, etc.)
    - Generates →
        - `PN_REV_wcca_plan.md`
        - `PN_REV_wcca_report.md`
    - Used in → `PN_REV_master.md` (References section)
        
- **FMEA (Failure Modes & Effects Analysis)**
    
    - Input → `PN_REV_sch.md` (partlist, categories)
    - Generates →
        - `PN_REV_fmea_plan.md`
        - `PN_REV_fmea_report.md`
    - Used in → `PN_REV_master.md` (References section)
        
- **Signal Integrity**
    
    - Input → `PN_REV_brd.md` (stack-up, traces), simulation data, IBIS models (links)
    - Generates →
        - `PN_REV_sig_plan.md`
        - `PN_REV_sig_report.md`
    - Used in → `PN_REV_master.md` (References section)
        

---

## 3. Manual / Semi-Automated Files

- **Intro/Theory/Analysis**
    
    - Authored manually or with AI assist
    - Files →
        - `PN_REV_intro.md`
        - `PN_REV_theory.md`
        - `PN_REV_analysis.md`
    - Used in → `PN_REV_master.md` (Circuit Content section)
        
- **History/ECL**
    
    - Source → Engineer edits or Git logs
    - Files → `PN_REV_history.md`
    - Used in → `PN_REV_master.md` (Change Tracking section)
        

---

## 4. Assembly / CAM Artifacts

- **BOM**
    
    - Input → `PN_REV_sch.md` + vendor database
    - File → `PN_REV_bom.md`
    - Used in → Manufacturing, purchasing docs (outside master doc)
        
- **Gerbers / Drill Files**
    
    - File → `PN_REV_gerber.zip`
    - Used in → Fabrication (not merged into master doc)
        

---

## 5. Integration

- **Master Document Builder (Python)**
    
    - Input → All `PN_REV_*` Markdown files
    - Output → `PN_REV_master.md`
    - Used in → Ground truth file set, publishing, website docs, AI training